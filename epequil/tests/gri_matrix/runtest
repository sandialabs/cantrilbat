#!/bin/sh
#
#
temp_success="1"
/bin/rm  -f output.txt outputa.txt csvCode.txt diff_test.out

#################################################################
#
#################################################################
CANTERA_DATA=${CANTERA_DATA:=../../data/inputs}; export CANTERA_DATA

CANTERA_BIN=${CANTERA_BIN:=../../bin}
./gri_matrix > output.txt
retnStat=$?
if [ $retnStat != "0" ]
then
  temp_success="0"
  echo "gri_matrix returned with bad status, $retnStat, check output"
fi

diff -w output.txt output_blessed.txt > diff_test.out
retnStat=$?
if [ $retnStat = "0" ]
then
  echo "successful diff comparison on gri_matrix test"
  echo "PASSED" > csvCode.txt
else
  echo "unsuccessful diff comparison on gri_matrix test"
  echo "FAILED" > csvCode.txt
  temp_success="0"
fi

