!---------------------------------------------------------------------------------------------------------------
!
!  Electrode input commands
!
!
!---------------------------------------------------------------------------------------------------------------
!
!      Electrode Name = string      (no default) (required)
!
!         Identifying name to be used on printouts
!
!---------------------------------------------------------------------------------------------------------------
Electrode Name = FeS2
!---------------------------------------------------------------------------------------------------------------
!
!      Electrode Type = ["anode", "cathode"]
!         PickList ->   (required)
!                     default = anode
!         The type is mostly never used. It's under consideration for removal, but may be necessary
!         for specification of the capacity, i.e., we need a direction for the specification of the capacity
!
!--------------------------------------------------------------------------------------------------------------
Electrode Type = cathode
!--------------------------------------------------------------------------------------------------------------
!
!  Specification of the Electrode Model Name
!
!         This card specifies the type of the electrode to be used. The string is looked up in the
!         Electrode Factory routine
!
!  Electrode Model Name = ["BaseType", "InfCapacity", "MP_RxnExtent", "SimpleDiff",
!                          "SimplePhaseChangeDiffusion",  "CSTR_MCMBAnode" ,
                            "CSTR_LiCoO2Cathode", "CSTR", "SimpleDiff"]
!             required = yes
!             default = ""
!
!-------------------------------------------------------------------------------------------------------------
Electrode Model Name = InfCapacity
!-------------------------------------------------------------------------------------------------------------
!
!  Number of Cantera Files = int [required]
!
!       Number of cantera files to be input. The Cantera files contain the description of the phases
!       used within the electrode.  
!
!-------------------------------------------------------------------------------------------------------------
Number of Cantera Files = 5
!-------------------------------------------------------------------------------------------------------------
!
!  Cantera File Name = [string] [ required ]
!
!      Must have a number of lines equal to the number entered on the
!      line "Number of Cantera Files"
!      Note, all phases found in each file will be included in the  equilibrium calculation.
!
!-------------------------------------------------------------------------------------------------------------
Cantera File Name = metal_Li_LiCl_electrons.xml
Cantera File Name = LiKCl_recipmoltenSalt.xml
Cantera File Name = FeS2_A.xml
Cantera File Name = FeS2_B.xml
Cantera File Name = FeS2_electrode.xml
!-----------------------------------------------------------------------------------------------------------
!
!    Temperature = double (default = 300.0 K) (optional)
!
!         The temperature is initialized to this value at the electrode level.
!         This means that all ThermoPhases are initialized to this level as an initial condition.
!         The temperature may be overrided by programs that use the Electrode object.
! 
!-----------------------------------------------------------------------------------------------------------
Temperature = 723.15
!-----------------------------------------------------------------------------------------------------------
!
!    Pressure - double [Pressure_unit] (no default) (required)
!
!
!         The pressure is initialized to this value at the electrode level.
!         This means that all ThermoPhases are initialized to this level as an initial condition.
!         The pressure may be overrided by programs that use the Electrode object.
!
!-----------------------------------------------------------------------------------------------------------
Pressure = 1.0 atm
!-----------------------------------------------------------------------------------------------------------
! 
!   Maximum number of Subglobal time steps - int (default 1000) (not-required)
!
!          Maximum number of subglobal time steps. This is weakly enforced, because if there are
!          convergence errors more time steps may be taken.
!
!-----------------------------------------------------------------------------------------------------------
Maximum number of Subglobal time steps = 1000
!-----------------------------------------------------------------------------------------------------------
!
!  Relative Local To Global Time Step Minimum - double (default 1.0E-3) (not-required
!  
!          Low limit to the subgrid time step (in terms of its ratio to the global time step)
!          This is weakly enforced, because if there are  convergence errors more time steps may be taken.
!          What this does is it turns of time step truncation errors below this time step
!          The time step is not reduced below this value unless there are convergence errors or problems.
!          
!-----------------------------------------------------------------------------------------------------------
Relative Local To Global Time Step Minimum = 1.0E-3
!-----------------------------------------------------------------------------------------------------------
!
!   Extra Rtol Accuracy for Nonlinear Solve - double (default 1.0) (not-required)
!
!          Usually the nonlinear solve is only solved to the level of the time step truncation error.
!          However, you can add additional rtol accuracy to the nonlinear solver (both on the
!          residual tolerance and on the solution delta tolerance) by setting a multiplicative constant
!          below 1.0 (1.0E-3 works well).
!
!-----------------------------------------------------------------------------------------------------------
Extra Rtol Accuracy for Nonlinear Solve = 1.0
!-----------------------------------------------------------------------------------------------------------
!
!    Particle Diameter - double [Length_unit] (default = 1.0E-6 m) (optional)
!
!-----------------------------------------------------------------------------------------------------------
Particle Diameter = 20 microns
!-----------------------------------------------------------------------------------------------------------
!
! Particle Number to Follow - double [unitless] (default 1) (optional)
!
!-----------------------------------------------------------------------------------------------------------
Particle Number to Follow = 2.0E8 
!-----------------------------------------------------------------------------------------------------------
!
! Electrode Gross Area - [m^2]
!
!-----------------------------------------------------------------------------------------------------------
! Electrode Gross Area = 2.5063e-3 m2
!-----------------------------------------------------------------------------------------------------------
!
! Electrode Gross Diameter - [m]
!
!-----------------------------------------------------------------------------------------------------------
! Electrode Gross Diameter = 0.05649 m
!-----------------------------------------------------------------------------------------------------------
!
! Electrode Gross Thickness - [m]
!
!-----------------------------------------------------------------------------------------------------------
! Electrode Gross Thickness = 7.874e-4 m
!-----------------------------------------------------------------------------------------------------------
! 
!  Electrode Porosity = double  [optional - sometimes required]
!
!     This is used to specify the porosity within the electrode
!     The porosity refers to the volume fraction of electrolyte within the electrode.
!     When we expand to allow for more phases, the porosity will mean the volume
!     fraction of electrolye. Volume fractions of other phases will reduce the
!     available volume fraction of electrode.
!
!     When this value is specified, value associated with entering the mass
!     of electrode material will cause error inputs, as this is conflicting and/or duplicative entries.
!
!-----------------------------------------------------------------------------------------------------------
Electrode Porosity = 0.35
!-----------------------------------------------------------------------------------------------------------
!
!  Method for Electrode Capacity Calculation  = PickList [ Default,  Model, Coeffs ]
!                                                  (default = Default)
!                                                  (optional)
!      This is used to specify the method for the calculation of the capacity.
!      A method for the capacity is needed. There are hardcoded options for certain chemistries.
!      However, the fallback method is to read the linear coefficients in from the input file.
!      The default is to try to match against certain Phase names to match against a model. If the
!      match is not found, then use the coefficients. 
!      This method overrides the defaults.
!-----------------------------------------------------------------------------------------------------------
! Method for Electrode Capacity Calculation = Default 
!-----------------------------------------------------------------------------------------------------------
!
!  Do Polarization Analysis = boolean [optional]
!
!      Turn on polarization analysis for this electrode 
!
!-----------------------------------------------------------------------------------------------------------
! Do Polarization Analysis = 0
!-----------------------------------------------------------------------------------------------------------
!
!  BLOCK:  Bath Specification for phases within the electrode object [optional] 
!             [default -> the phase defaults for mole fraction is used, along with a mole number of zero
!                         for the phase as a whole]
!
!       A block for each phase within the electrode object is created. This is where the composition and
!       amount of each phase is specified.
!
!       This is also where the capacity coefficients are specified. The capacity coefficients determine
!       how the capacity of the electrode and the depth of discharge are calculated.
!
!       start block Bath Specification for Phase [Cantera_Phase_Name] (optional)
!          Phase Moles = double   (required)
!          start block Bath Species Mole Fraction (required)
!               FeS2_A(S) =  1.0
!          End block Bath Species Mole Fraction
!       end block Bath Specification for Phase [Cantera_Phase_Name]
!
!--------------------------------------------------------------------------------------------------------------
start block Bath Specification for Phase FeS2_A(S)
!--------------------------------------------------------------------------------------------------------------
  !
  !------------------------------------------------------------------------------------------------------------
  !
  !   Voltage = double (optional) (default = 0.0)
  !
  !        Specify the beginning voltage of the phase
  !
  !------------------------------------------------------------------------------------------------------------
  Voltage = 0.0
  !------------------------------------------------------------------------------------------------------------
  !  
  !   Phase Moles = double  [required]  
  !      
  !        Enter the kmoles of species in the phase within the current electrode
  !        This number is frequently scaled to represent a given specified volume as the initial condition.
  !        However, the scale of this phase is honored. Therefore, if there are more than one phase
  !        in the electrode, then the specification of this number in combination with the mole fractions within
  !        the phase will be important.
  !
  !------------------------------------------------------------------------------------------------------------
  Phase Moles = 13.0
  !------------------------------------------------------------------------------------------------------------
  !
  !   Phase Mass = double  [optional] 
  !
  !        Enter the kg of the phase within the current electrode.
  !        This number is frequently scaled to represent a given specified volume as the initial condition.
  !        However, the scale of this phase is honored. Therefore, if there are more than one phase
  !        in the electrode, then the specification of this number in combination with the mole fractions within
  !        the phase will be important.
  !  
  !        (antithetical to Phase Moles)
  !
  !------------------------------------------------------------------------------------------------------------
  ! Phase Mass = 0.1
  !------------------------------------------------------------------------------------------------------------
  ! 
  !  BLOCK: Bath Species Mole Fraction 
  !
  !     Standard mole fraction block. Each species in the phase has a line entry where you can
  !     specify the mole fractions. The default is to set the mole fraction to 0.0. 
  !     It's an error for the mole fractions to not sum to 1.0 (or very close
  !
  !------------------------------------------------------------------------------------------------------------
  Start block Bath Species Mole Fraction
    FeS2_A(S) = 1.0
  End block Bath Species Mole Fraction
  !------------------------------------------------------------------------------------------------------------
  ! 
  !  BLOCK: Capacity Left Coefficients
  !
  !     Standard block of species with Capacity Left coefficients specified for each species
  !     The default for missing species is  0.0. 
  !     The dot product of this vector with mole numbers yields the Capacity left for the electrode.
  !
  !------------------------------------------------------------------------------------------------------------
  Start block Capacity Left Coefficients
    FeS2_A(S) = 1.0
  End block Capacity Left Coefficients
  !------------------------------------------------------------------------------------------------------------
  !
  !  BLOCK: Capacity At Zero DoD Coefficients
  !
  !     Standard block of species with Capacity at Zero DoD coefficients specified for each species
  !     The default for missing species is  0.0.      
  !     The dot product of this vector with mole numbers yields the Capacity of the electrode.
  !
  !------------------------------------------------------------------------------------------------------------
  Start block Capacity At Zero DoD Coefficients
    FeS2_A(S) = 1.0
  End block Capacity at Zero DoD Coefficients

  !------------------------------------------------------------------------------------------------------------
  !
  !  BLOCK: Bath Species Molalities
  !
  !     Standard molality block. Each species in the phase has a line entry where you can
  !     specify the molalitiy, except for the solvent. The default is to set the molality to 0.0.
  !
  !  (antithetical to mole fraction block)
  !
  !------------------------------------------------------------------------------------------------------------
  ! Start block Bath Species Molalities
  !   Al++ = 1.0
  !   Cl-  = 2.0
  ! End block Bath Species Molalities
  !------------------------------------------------------------------------------------------------------------
  !------------------------------------------------------------------------------------------------------------
!--------------------------------------------------------------------------------------------------------------
End block Bath Specification for Phase  FeS2_A(S)
!--------------------------------------------------------------------------------------------------------------
!
Start block Bath Specification for Phase FeS2_B(S)
  Phase Moles = 1.0E-3
  start block Bath Species Mole Fraction
    FeS2_B(S) =  1.0
 End block Bath Species Mole Fraction
End block Bath Specification for Phase  FeS2_B(S)
!
!--------------------------------------------------------------------------------------------------------------
!
!   The electrolyte phase is also specified. In many problems where the electrode is being interrogated as
!   a sole entity, the composition of the electrolyte is needed. It is input here. In other problems
!   where the electrode is only part of the problem, the composition of the electrolyte added here will
!   be overwritten. 
!
Start block Bath Specification for Phase LiKCl_electrolyte
   Phase Moles = 6.6
   Start block Bath Species Mole Fraction
      Li+ = 0.3
      K+  = 0.2
      Cl- = 0.5
   End block Bath Species Mole Fraction
End block Bath Specification for Phase LiKCl_electrolyte
!
!--------------------------------------------------------------------------------------------------------------
!
!      BLOCK:  Open Circuit voltage Override for interface   [optional] [unique block]
!
!         Inclusion of this block means that the open circuit voltage for the reactions involving one
!         species is replaced by an analytical expression that is supplied via utility routines.
!         What this means in practice is that the thermodynamic expression for one species is 
!         replaced with a value which creates that desired OCV. 
!
!         In the common case of an intercalated solid, the thermo of one of the intercalated species
!         is replaced with the thermo dictated by the OCV. This means that the particular species to be
!         replaced must be identified, as well as the particular reaction, whose OCV expression ((i.e., delta G)
!         is to be specified, must be identified.
!
!         Note, in most cases there will only be one reaction on these surfaces, due to the incomplete
!         thermo representation.
!
!--------------------------------------------------------------------------------------------------------------
Start block Open Circuit Potential Override for interface LiFe2S4_interface
!--------------------------------------------------------------------------------------------------------------
   !
   !-----------------------------------------------------------------------------------------------------------
   ! 
   !      Open Circuit Voltage Model = string   [required] [default = 'Constant']
   !
   !          String identifying the model for the open circuit voltage. The string is fed into the 
   !          factory routine to associate the particular model.
   !
   !-----------------------------------------------------------------------------------------------------------
   Open Circuit Voltage Model = newFit_LiFe2S4
   !-----------------------------------------------------------------------------------------------------------
   !
   !      Replaced Species = [species string name] [required] 
   !
   !          Name of the species whose thermodynamcis will be replaced by the OCV model.
   !          The way the code handles OCV models is by replacing the thermodynamcis of one of the
   !          species in the interfacial reaction with the thermo function needed to mimic the OCV
   !          of the interfacial reaction.
   !
   !-----------------------------------------------------------------------------------------------------------
   Replaced Species = LiFe2S4
   !----------------------------------------------------------------------------------------------------------- 
   !
   !     Identify Reaction for OCV Model = int      (optional) (default = 0)
   !
   !         Integer name of the reaction. Since most models just have one reaction, we will start
   !         with assuming that it's the first reaction in the mechanism 
   !
   !-----------------------------------------------------------------------------------------------------------
   Identify Reaction for OCV Model = 0
   !-----------------------------------------------------------------------------------------------------------
   !
   !    Temperature Derivative = PickList = [Zero, Species, Model] (required)
   !                                     (default = Zero)
   !
   !         Create a PickList Line Element made out of the list of species
   !              zero    = The temperature derivative is set to zero.
   !              species = The temperature derivative is set to the value determined
   !                        by the thermo, even the thermo of the missing species.
   !              model   = The temperature derivative is set by a model, specified
   !                        further in the input deck.
   !
   !-----------------------------------------------------------------------------------------------------------
   Temperature Derivative = [ ZERO, SPECIES, MODEL ]
   !-----------------------------------------------------------------------------------------------------------
   !
   !   Temperature for OCV =  double [optional]  (default = 298.15 K)
   !
   !        Create an initial temperature for the OCV. If a temperature derivative is 
   !        entered, then this value will be used in a linear interpolation of the OCV.
   !
   !-----------------------------------------------------------------------------------------------------------
   Temperature for OCV = 298.15
   !-----------------------------------------------------------------------------------------------------------
   !    Open Circuit Voltage Temperature Derivative Mode = string  (optional)
   !
   !        Input a string name that will be inputted into a factor to pick the OCV model from a list of options.
   !        The first token will be interpreted as the string name for the model.
   !        All other tokens will be interpreted as doubles and input as parameters for the model.
   !       
   !       default name = "Constant"
   !
   !-----------------------------------------------------------------------------------------------------------
   Open Circuit Voltage Temperature Derivative Model = newFit_LiFe2S4
   !-----------------------------------------------------------------------------------------------------------
!--------------------------------------------------------------------------------------------------------------
End block Open Circuit Potential Override for interface LiFe2S4_interface
!--------------------------------------------------------------------------------------------------------------
!
!
!------------------------------------------------------------------------
!
!   SPECIFY OTHER WAYS TO INPUT THE CONCENTRATION, without
!   breaking it down via phases.
!
!-------------------------------------------------------------------------
!  BLOCK -> Species Initial KMoles    (no default)  (optional)
!
!  We can specify the moles of species in this type of format.
!  If present, it overrides the specification of moles in individual phases described above.
!
!------------------------------------------------------------------------------------------------------------
!  start block Species Initial KMoles
!        FeS2_A(S) =  1.0
!        FeS2_B(S) = 1.0
!        Li+ = 0.3E-2
!        K+  = 0.2E-2
!        Cl- = 0.5E-2
!  end block Species Initial KMoles
!------------------------------------------------------------------------------------------------------------
!
! Level of XML State Information Created = PickList = [none, minimum, globalSteps,  intermediateSteps]
!                                          defaults = none
!                                          (optional)
!  
!  Level of XML output created  during the integrations. This defaults to none
!
!-------------------------------------------------------------------------------------------------------------
Level of XML State Information Created = none
!-------------------------------------------------------------------------------------------------------------
!
! Capacity Discharged Per Initial Mole =  (dimensionless) (no default)  (optional)
!
!   This is the relative amount of electrons that are discharged or
!   are accumlated (for cathodes)
!   as a function of the initial mole number of active species in the electrode.
!   Some objects don't support setting the initial conditions by this method.
!
! Capacity Discharged Per Initial Mole = 0.5
!
!------------------------------------------------------------------------
!-------------------------------------------------------------------------
!
!  Model for the formulation of the diffusive Flux 
!
!
!   0 = diffusive flux include the activity coefficient
!   1 = diffusive flux doesn't include the activity coefficient
!
!-------------------------------------------------------------------------
! diffusive Flux Model = 1
!-------------------------------------------------------------------------


